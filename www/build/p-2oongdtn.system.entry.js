var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=e.call(t,n)}catch(a){s=[6,a];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};System.register(["./p-a932c1b6.system.js"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.h;n=t.r;r=t.H;i=t.g}],execute:function(){var o=function(t,e){var n=new Map;var r=t;var i=function(t,e){if(Array.isArray(t)){__spreadArrays(t).forEach((function(t){e[t]=r[t]}))}else{e[t]=Object.assign({},r)}};var o=function(t,e){if(!n.has(t)){n.set(t,e);i(e,t)}return function(){if(n.has(t)){n.delete(t)}}};var s=function(t,e){var o=t.state;r=o;n.forEach(i);return e};var a=function(t,n){return e(o,n[0])};var c=function(t,e){var r=t.prototype;var i=r.connectedCallback;var s=r.disconnectedCallback;r.connectedCallback=function(){o(this,e);if(i){return i.call(this)}};r.disconnectedCallback=function(){n.delete(this);if(s){s.call(this)}}};return{Provider:s,Consumer:a,injectProps:c}};var s=o({apiUrl:null,currentUser:{id:null,auth_token:null,email:null,name:null,picture_url:null},comments:[]},(function(t,n){return e("context-consumer",{subscribe:t,renderer:n})}));var a={auth:"auth",commentsList:function(t){return"commentable/"+t+"/comments/list"},commentsAdd:function(t){return"commentable/"+t+"/comments/add"},reactionsAdd:function(t){return"commentable/"+t+"/reactions/add"},reactionsDelete:function(t){return"commentable/"+t+"/reactions/delete"}};var c={fetch:function(t,e){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,fetch(t,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}))];case 1:n=r.sent();return[2,n.json()]}}))}))},auth:function(t,e){if(!e)return;return this.fetch(t+"/"+a.auth,{method:"post",body:JSON.stringify({id_token:e})})},fetchComments:function(t,e,n){return this.fetch(t+"/"+a.commentsList(e),{method:"post",body:JSON.stringify(n)})},addComment:function(t,e,n){var r=n.authToken,i=n.message,o=n.repliesTo;return this.fetch(t+"/"+a.commentsAdd(e),{method:"post",body:JSON.stringify({auth_token:r,body:i,replies_to:o})})},addReaction:function(t,e,n){var r=n.authToken,i=n.reactionType,o=n.commentId;return this.fetch(t+"/"+a.reactionsAdd(e),{method:"post",body:JSON.stringify({auth_token:r,reaction_type:i,comment_id:o})})},deleteReaction:function(t,e,n){var r=n.authToken,i=n.reactionType,o=n.commentId;return this.fetch(t+"/"+a.reactionsDelete(e),{method:"post",body:JSON.stringify({auth_token:r,reaction_type:i,comment_id:o})})}};var u=t("ct_actions",function(){function t(t){n(this,t);this.reactionsExpanded=false;this.replyComposeVisible=false}t.prototype.toggleReactionsPanel=function(){this.reactionsExpanded=!this.reactionsExpanded};t.prototype.isOwnReaction=function(t){return this.comment.user_reactions.includes(t)};t.prototype.mapReactions=function(t,n){var r=this;return t.reactions.map((function(t,i){var o=r.comment.reactions&&r.comment.reactions[t.type];if(o){return e("ct-button",{small:true,active:r.isOwnReaction(t.type),onClick:function(){return r.toggleReaction(n.apiUrl,n.commentableId,{authToken:n.authToken,reactionType:t.type,commentId:r.comment.id})}},t.code," ",o)}}))};t.prototype.addReaction=function(t){this.comment.reactions[t]=(this.comment.reactions[t]||0)+1;this.comment.user_reactions.push(t)};t.prototype.removeReaction=function(t){this.comment.reactions[t]-=1;var e=this.comment.user_reactions;this.comment.user_reactions=e.filter((function(e){return e!==t}))};t.prototype.toggleReaction=function(t,e,n){var r=n.authToken,i=n.reactionType,o=n.commentId;return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(s){switch(s.label){case 0:if(!this.isOwnReaction(i))return[3,5];s.label=1;case 1:s.trys.push([1,3,,4]);return[4,c.deleteReaction(t,e,{authToken:r,reactionType:i,commentId:o})];case 2:s.sent();return[3,4];case 3:n=s.sent();return[3,4];case 4:this.removeReaction(i);return[3,7];case 5:return[4,c.addReaction(t,e,{authToken:r,reactionType:i,commentId:o})];case 6:s.sent();this.addReaction(i);this.toggleReactionsPanel();s.label=7;case 7:return[2]}}))}))};t.prototype.toggleReply=function(){this.replyComposeVisible=!this.replyComposeVisible};t.prototype.render=function(){var t=this;return e(s.Consumer,null,(function(n){var i=n.apiUrl,o=n.commentableId,s=n.config,a=n.currentUser;return e(r,null,console.log(t.comment),e("div",{class:"ct-actions__emoji"},t.mapReactions(s,{apiUrl:i,commentableId:o,authToken:a.auth_token}),e("ct-button",{small:true,onClick:function(){return t.toggleReactionsPanel()}},"+ Emoji")),t.reactionsExpanded&&e("div",{class:"reactions-panel"},s.reactions.map((function(n,r){return e("ct-button",{small:true,onClick:function(){return t.toggleReaction(i,o,{authToken:a.auth_token,reactionType:n.type,commentId:t.comment.id})}},n.code)}))),e("div",{class:"ct-actions__controls"},e("a",{class:"action",onClick:function(){return t.toggleReply()}},"Reply"),e("span",{class:"separator"},"Â·"),e("a",{class:"action"},"Share")),t.replyComposeVisible&&e("div",{class:"ct-actions__reply-compose"},e("ct-compose",{comment:t.comment})))}))};Object.defineProperty(t,"style",{get:function(){return":host{display:block}.ct-actions__controls,:host{margin-top:1rem}.ct-actions__controls .action,.ct-actions__controls .separator{margin-right:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ct-actions__controls .action{cursor:pointer}.ct-actions__emoji{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ct-actions__emoji ct-button,.reactions-panel ct-button{margin-right:.5rem}"},enumerable:true,configurable:true});return t}());var l=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function f(t,e){return e={exports:{}},t(e,e.exports),e.exports}var h=f((function(t){
/*!
                  Copyright (c) 2017 Jed Watson.
                  Licensed under the MIT License (MIT), see
                  http://jedwatson.github.io/classnames
                */
(function(){var e={}.hasOwnProperty;function n(){var t=[];for(var r=0;r<arguments.length;r++){var i=arguments[r];if(!i)continue;var o=typeof i;if(o==="string"||o==="number"){t.push(i)}else if(Array.isArray(i)&&i.length){var s=n.apply(null,i);if(s){t.push(s)}}else if(o==="object"){for(var a in i){if(e.call(i,a)&&i[a]){t.push(a)}}}}return t.join(" ")}if(t.exports){n.default=n;t.exports=n}else{window.classNames=n}})()}));var d=t("ct_avatar",function(){function t(t){n(this,t);this.nested=false}t.prototype.render=function(){return e("div",{class:h("ct-comment__avatar",{"ct-comment__avatar--nested":this.nested})},this.user?e("img",{src:this.user.picture_url,alt:this.user.name+"'s Avatar"}):e("img",{src:i("./assets/fallback.jpg"),alt:"No avatar"}))};Object.defineProperty(t,"assetsDirs",{get:function(){return["assets"]},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{width:3.5rem;height:3.5rem}:host img{width:100%;height:100%;border-radius:50%}.ct-comment__avatar--nested{width:2.5rem;height:2.5rem}"},enumerable:true,configurable:true});return t}());var m=t("ct_button",function(){function t(t){n(this,t);this.small=false;this.active=false}t.prototype.render=function(){return e("div",{class:h("ct-button",{"ct-button--small":this.small,"ct-button--active":this.active})},e("slot",null))};Object.defineProperty(t,"style",{get:function(){return".ct-button{display:-ms-inline-flexbox;display:inline-flex;padding:1rem 1.75rem;background-color:#0d2031;margin-top:1rem;color:#00d664;font-size:.875rem;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:.25rem}.ct-button--small{padding:.375rem .5rem;color:#ccc;min-height:1.5rem}.ct-button--active{background-color:#0e2f41;border:1px solid #133c54}"},enumerable:true,configurable:true});return t}());var p=f((function(t,e){!function(e,n){t.exports=n()}(l,(function(){var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",s="month",a="quarter",c="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},h={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,s),i=e-r<0,o=t.clone().add(n+(i?-1:1),s);return Number(-(n+(e-r)/(i?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:s,y:c,w:o,d:i,h:r,m:n,s:e,ms:t,Q:a}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",p={};p[m]=d;var y=function(t){return t instanceof _},v=function(t,e,n){var r;if(!t)return m;if("string"==typeof t)p[t]&&(r=t),e&&(p[t]=e,r=t);else{var i=t.name;p[i]=t,r=i}return n||(m=r),r},g=function(t,e,n){if(y(t))return t.clone();var r=e?"string"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new _(r)},b=h;b.l=v,b.i=y,b.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var _=function(){function f(t){this.$L=this.$L||v(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return g(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<g(t)},h.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},h.year=function(t){return this.$g(t,"$y",c)},h.month=function(t){return this.$g(t,"$M",s)},h.day=function(t){return this.$g(t,"$W",i)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",r)},h.minute=function(t){return this.$g(t,"$m",n)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,a){var u=this,l=!!b.u(a)||a,f=b.p(t),h=function(t,e){var n=b.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return l?n:n.endOf(i)},d=function(t,e){return b.w(u.toDate()[t].apply(u.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},m=this.$W,p=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case c:return l?h(1,0):h(31,11);case s:return l?h(1,p):h(0,p+1);case o:var g=this.$locale().weekStart||0,_=(m<g?m+7:m)-g;return h(l?y-_:y+(6-_),p);case i:case"date":return d(v+"Hours",0);case r:return d(v+"Minutes",1);case n:return d(v+"Seconds",2);case e:return d(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(o,a){var u,l=b.p(o),f="set"+(this.$u?"UTC":""),h=(u={},u[i]=f+"Date",u.date=f+"Date",u[s]=f+"Month",u[c]=f+"FullYear",u[r]=f+"Hours",u[n]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[l],d=l===i?this.$D+(a-this.$W):a;if(l===s||l===c){var m=this.clone().set("date",1);m.$d[h](d),m.init(),this.$d=m.set("date",Math.min(this.$D,m.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,a){var u,l=this;t=Number(t);var f=b.p(a),h=function(e){var n=g(l);return b.w(n.date(n.date()+Math.round(e*t)),l)};if(f===s)return this.set(s,this.$M+t);if(f===c)return this.set(c,this.$y+t);if(f===i)return h(1);if(f===o)return h(7);var d=(u={},u[n]=6e4,u[r]=36e5,u[e]=1e3,u)[f]||1,m=this.$d.getTime()+t*d;return b.w(m,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,c=i.weekdays,u=i.months,f=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},h=function(t){return b.s(o%12||12,t,"0")},d=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:b.s(a+1,2,"0"),MMM:f(i.monthsShort,a,u,3),MMMM:u[a]||u(this,n),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,c,2),ddd:f(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:b.s(o,2,"0"),h:h(1),hh:h(2),a:d(o,s,!0),A:d(o,s,!1),m:String(s),mm:b.s(s,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||m[t]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,u,l){var f,h=b.p(u),d=g(t),m=6e4*(d.utcOffset()-this.utcOffset()),p=this-d,y=b.m(this,d);return y=(f={},f[c]=y/12,f[s]=y,f[a]=y/3,f[o]=(p-m)/6048e5,f[i]=(p-m)/864e5,f[r]=p/36e5,f[n]=p/6e4,f[e]=p/1e3,f)[h]||p,l?y:b.a(y)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return p[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=v(t,e,!0),n},h.clone=function(){return b.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=_.prototype,g.extend=function(t,e){return t(e,_,g),g},g.locale=v,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=p[m],g.Ls=p,g}))}));var y=f((function(t,e){!function(e,n){t.exports=n()}(l,(function(){return function(t,e,n){var r=e.prototype;n.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var i=function(t,e,r,i){for(var o,s,a=r.$locale().relativeTime,c=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=c.length,l=0;l<u;l+=1){var f=c[l];f.d&&(o=i?n(t).diff(r,f.d,!0):r.diff(t,f.d,!0));var h=Math.round(Math.abs(o));if(h<=f.r||!f.r){1===h&&l>0&&(f=c[l-1]),s=a[f.l].replace("%d",h);break}}return e?s:(o>0?a.future:a.past).replace("%s",s)};r.to=function(t,e){return i(t,e,this,!0)},r.from=function(t,e){return i(t,e,this)};var o=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(o(this),t)},r.fromNow=function(t){return this.from(o(this),t)}}}))}));var v=function(t){return t||"#00d664"};p.extend(y);var g=t("ct_comment",function(){function t(t){n(this,t);this.nested=false;this.level=0;this.areRepliesVisible=false;this.isDeleted=!(this.comment.user&&this.comment.user.name.length);this.hasReplies=this.comment.replies.length>0}t.prototype.toggleReplies=function(){this.areRepliesVisible=!this.areRepliesVisible};t.prototype.getUserName=function(){if(this.isDeleted){return"Comment deleted"}return this.comment.user&&this.comment.user.name};t.prototype.getDate=function(){return this.comment&&p(this.comment.created_at)};t.prototype.getCreatedFromNowDate=function(){return this.getDate().fromNow()};t.prototype.getFullDate=function(){return this.getDate().toString()};t.prototype.render=function(){var t=this;return e(s.Consumer,null,(function(n){var i;var o=n.primaryColor;return e(r,null,e("div",{class:"ct-comment"},e("div",{class:"ct-comment__dot-menu"}),e("ct-avatar",{user:t.comment.user,nested:t.nested}),e("div",{class:h("ct-comment__content",{"ct-comment__content--nested":t.nested})},e("div",{class:"content-meta"},e("div",{style:{color:v(o)},class:h("name",{"name--deleted":t.isDeleted})},t.getUserName()),e("div",{class:"separator"},"Â·"),e("div",{class:"date"},e("abbr",{title:t.getFullDate()},t.getCreatedFromNowDate()))),e("div",{class:"content-body"},t.comment.body),e("ct-actions",{comment:t.comment}),t.hasReplies&&!t.nested&&e("ct-button",{onClick:function(){return t.toggleReplies()}},t.areRepliesVisible?"Hide replies":"Show replies"))),e("div",{class:h("ct-replies",{"ct-replies--visible":t.nested||t.areRepliesVisible},(i={},i["level-"+t.level]=true,i))},t.comment.replies.map((function(n,r){return e("ct-comment",{comment:n,nested:true,level:t.level+1})}))))}))};Object.defineProperty(t,"assetsDirs",{get:function(){return["assets"]},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{display:block}abbr{text-decoration:none}.level-0,.level-1{margin-left:2rem}.ct-comment{display:-ms-flexbox;display:flex;min-height:5.5rem;padding:1rem}.ct-comment__content{margin-left:1rem}.ct-comment__content--nested{margin-left:.25rem}.ct-comment__content .content-meta{display:-ms-flexbox;display:flex;font-size:.875rem}.ct-comment__content .content-meta .name{font-weight:700;color:#00d664;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ct-comment__content .content-meta .name.name--deleted{color:#fff!important}.ct-comment__content .content-meta .date,.ct-comment__content .content-meta .separator{margin-left:.5rem}.ct-comment__content .content-body{margin-top:.75rem;font-size:1rem}.ct-replies{position:relative;display:none}.ct-replies--visible{display:block}"},enumerable:true,configurable:true});return t}());var b=t("ct_commentable",function(){function t(t){n(this,t);this.currentUser={};this.comments=[];this.isLoading=true;this.parsedConfig=JSON.parse(this.config)}t.prototype.setCurrentUser=function(t){this.currentUser=t};t.prototype.setComments=function(t){this.comments=t};t.prototype.tokenWatchHandler=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(n){switch(n.label){case 0:this.isLoading=true;return[4,c.auth(this.apiUrl,t)];case 1:e=n.sent();this.setCurrentUser(e);return[2]}}))}))};t.prototype.currentUserWatchHandler=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:t={};if(this.currentUser){t.auth_token=this.currentUser.auth_token}return[4,c.fetchComments(this.apiUrl,this.commentableId,t)];case 1:e=n.sent().comments;this.setComments(e.reverse());this.isLoading=false;return[2]}}))}))};t.prototype.renderLoading=function(){return e("div",{class:"ct-loading"},e("div",{class:"la-ball-fall"},e("div",null),e("div",null),e("div",null)))};t.prototype.render=function(){var t={apiUrl:this.apiUrl,commentableId:this.commentableId,currentUser:this.currentUser,comments:this.comments,setComments:this.setComments,config:this.parsedConfig,primaryColor:this.primaryColor};return e(s.Provider,{state:t},this.isLoading?this.renderLoading():e("div",{class:"ct-commentable"},e("ct-compose",{apiUrl:this.apiUrl,commentableId:this.commentableId}),this.comments.map((function(t,n){return e("ct-comment",{comment:t})}))))};Object.defineProperty(t,"watchers",{get:function(){return{googleIdToken:["tokenWatchHandler"],currentUser:["currentUserWatchHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"\@import url(\"https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap\");:host{display:block;max-width:48rem;font-family:Open Sans,sans-serif;background-color:#0a1826;color:#f6f6f6}.ct-loading{margin:2rem 4rem}\n\n\n/*!\n * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/)\n * Copyright 2015 Daniel Cardoso <\@DanielCardoso>\n * Licensed under MIT\n */.la-ball-fall,.la-ball-fall>div{position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.la-ball-fall{display:block;font-size:0;color:#fff}.la-ball-fall.la-dark{color:#333}.la-ball-fall>div{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-fall{width:54px;height:18px}.la-ball-fall>div{width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:ball-fall 1s ease-in-out infinite;-moz-animation:ball-fall 1s ease-in-out infinite;-o-animation:ball-fall 1s ease-in-out infinite;animation:ball-fall 1s ease-in-out infinite}.la-ball-fall>div:first-child{-webkit-animation-delay:-.2s;-moz-animation-delay:-.2s;-o-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall>div:nth-child(2){-webkit-animation-delay:-.1s;-moz-animation-delay:-.1s;-o-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall>div:nth-child(3){-webkit-animation-delay:0ms;-moz-animation-delay:0ms;-o-animation-delay:0ms;animation-delay:0ms}.la-ball-fall.la-sm{width:26px;height:8px}.la-ball-fall.la-sm>div{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x{width:108px;height:36px}.la-ball-fall.la-2x>div{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x{width:162px;height:54px}.la-ball-fall.la-3x>div{width:30px;height:30px;margin:12px}\@-webkit-keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}to{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}\@-moz-keyframes ball-fall{0%{opacity:0;-moz-transform:translateY(-145%);transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}80%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}to{opacity:0;-moz-transform:translateY(145%);transform:translateY(145%)}}\@-o-keyframes ball-fall{0%{opacity:0;-o-transform:translateY(-145%);transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}80%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}to{opacity:0;-o-transform:translateY(145%);transform:translateY(145%)}}\@keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);-moz-transform:translateY(-145%);-o-transform:translateY(-145%);transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}80%{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}to{opacity:0;-webkit-transform:translateY(145%);-moz-transform:translateY(145%);-o-transform:translateY(145%);transform:translateY(145%)}}"},enumerable:true,configurable:true});return t}());var _=t("ct_compose",function(){function t(t){n(this,t);this.isExpanded=false;this.message=""}t.prototype.handleMessageChange=function(t){this.message=t.target.value};t.prototype.textareaOnFocus=function(){this.isExpanded=true};t.prototype.addReply=function(t){this.comment.replies=__spreadArrays([t],this.comment.replies)};t.prototype.addComment=function(t,e,n,r,i,o){return __awaiter(this,void 0,void 0,(function(){var s;return __generator(this,(function(a){switch(a.label){case 0:if(this.message.length<1)return[2];return[4,c.addComment(t,e,{message:this.message,authToken:n.auth_token,repliesTo:o})];case 1:s=a.sent();if(this.comment){this.addReply(s)}else{r(__spreadArrays([s],i))}return[2]}}))}))};t.prototype.render=function(){var t=this;return e(s.Consumer,null,(function(n){var r=n.apiUrl,i=n.commentableId,o=n.currentUser,s=n.comments,a=n.setComments;return e("div",{class:"ct-compose"},e("ct-avatar",{user:o}),e("div",{class:"ct-compose__textarea"},e("textarea",{class:"inner-textarea",onFocus:function(){return t.textareaOnFocus()},placeholder:"Add a comment...",value:t.message,onInput:function(e){return t.handleMessageChange(e)}}),t.isExpanded&&e("div",{class:"compose-controls"},e("p",null,"Please click the icon to send"),e("a",{class:"control-send",onClick:function(){return t.addComment(r,i,o,a,s,t.comment.id)}},"â¡"))))}))};Object.defineProperty(t,"style",{get:function(){return".ct-compose{display:-ms-flexbox;display:flex;margin:2rem 1rem}.ct-compose__textarea{display:block;margin-left:1rem;max-width:22rem;width:100%;background:#0d2031;border-radius:.25rem}.ct-compose__textarea .inner-textarea{display:block;width:100%;min-height:1rem;font-size:.875rem;padding:1rem;background-color:transparent;border:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;border-radius:.25rem;resize:none}.ct-compose__textarea .inner-textarea:focus{outline:none}.ct-compose__textarea .inner-textarea::-webkit-input-placeholder{color:#fff}.ct-compose__textarea .inner-textarea::-moz-placeholder{color:#fff}.ct-compose__textarea .inner-textarea:-ms-input-placeholder{color:#fff}.ct-compose__textarea .inner-textarea::-ms-input-placeholder{color:#fff}.ct-compose__textarea .inner-textarea::placeholder{color:#fff}.ct-compose__textarea .compose-controls{display:-ms-flexbox;display:flex;padding:0 1rem;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.compose-controls p{font-size:.875rem}.control-send{cursor:pointer}"},enumerable:true,configurable:true});return t}())}}}));